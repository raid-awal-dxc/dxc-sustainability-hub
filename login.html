<!doctype html>
<html lang="en">
  <head>
    <title>Login • Sustainability Hub</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="assets/css/styles.css" />
    <style>
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        border: 0;
      }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="assets/js/config.js"></script>
    <script src="assets/js/config.example.js"></script>
    <script src="assets/js/supabase.js"></script>
    <script src="assets/js/ui.js"></script>
    <script src="assets/js/theme.js"></script>
  </head>
  <body>
    <nav class="container">
      <div class="brand">
        <img
          class="site-logo"
          src="assets/img/DXC-Full-Color.svg"
          data-logo-dark="assets/img/DXC-Full-Color.svg"
          data-logo-light="assets/img/DXC-Full-Color.svg"
          alt="DXC"
          width="80"
          height="28"
        />
        <img
          class="site-logo"
          src="assets/img/logo-dark.svg"
          data-logo-dark="assets/img/logo-dark.svg"
          data-logo-light="assets/img/logo-light.svg"
          alt="Sustainability Hub"
          width="28"
          height="28"
        />
        <a href="index.html">Sustainability Hub</a>
      </div>
      <div style="margin-left: auto; display: flex; gap: 0.5rem">
        <a href="modules.html">Modules</a>
        <a href="dashboard.html">Dashboard</a>
        <a id="nav-auth" href="login.html">Login</a>
        <button
          class="btn ghost theme-toggle"
          data-theme-toggle
          aria-pressed="false"
          style="margin-left: 0.5rem"
          title="Toggle theme"
        >
          <span class="sr-only">Toggle theme</span>
          <svg
            class="icon-sun theme-anim"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            aria-hidden="true"
          >
            <circle cx="12" cy="12" r="5" />
            <path
              d="M12 1v3M12 20v3M4.22 4.22l2.12 2.12M17.66 17.66l2.12 2.12M1 12h3M20 12h3M4.22 19.78l2.12-2.12M17.66 6.34l2.12-2.12"
            />
          </svg>
          <svg
            class="icon-moon theme-anim"
            viewBox="0 0 24 24"
            fill="currentColor"
            aria-hidden="true"
          >
            <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
          </svg>
        </button>
      </div>
    </nav>

    <main class="container">
      <div style="max-width: 560px; margin: 2rem auto">
        <div class="auth-container">
          <!-- Tab Navigation -->
          <div class="auth-tabs">
            <button
              class="auth-tab active"
              data-tab="login"
              onclick="switchAuthTab('login')"
            >
              Sign In
            </button>
            <button
              class="auth-tab"
              data-tab="register"
              onclick="switchAuthTab('register')"
            >
              Create Account
            </button>
          </div>

          <!-- Login Form -->
          <section id="login-section" class="auth-form active">
            <h2>Welcome back</h2>
            <p class="form-subtitle">Sign in to your account to continue</p>
            <form onsubmit="handleLogin(event)">
              <div class="form-group">
                <label for="login_email">Email address</label>
                <input
                  type="email"
                  id="login_email"
                  placeholder="you@example.com"
                  required
                />
              </div>
              <div class="form-group">
                <label for="login_password">Password</label>
                <input
                  type="password"
                  id="login_password"
                  placeholder="••••••••"
                  required
                />
              </div>
              <button class="btn primary btn-block" type="submit">
                Sign In
              </button>
            </form>
          </section>

          <!-- Register Form -->
          <section id="register-section" class="auth-form">
            <h2>Create account</h2>
            <p class="form-subtitle">Join the Sustainability Community</p>
            <form onsubmit="handleRegister(event)">
              <div class="form-group">
                <label for="reg_fullname">Full name</label>
                <input
                  type="text"
                  id="reg_fullname"
                  placeholder="Your name"
                  required
                />
              </div>
              <div class="form-group">
                <label for="reg_email">Email address</label>
                <input
                  type="email"
                  id="reg_email"
                  placeholder="you@example.com"
                  required
                />
              </div>
              <div class="form-group">
                <label for="reg_password">Password</label>
                <input
                  type="password"
                  id="reg_password"
                  placeholder="••••••••"
                  minlength="6"
                  required
                />
              </div>
              <button class="btn primary btn-block" type="submit">
                Create Account
              </button>
            </form>
          </section>
        </div>
      </div>
    </main>
    <script src="assets/js/auth.js"></script>
    <script>
      function switchAuthTab(tab) {
        // Update tab buttons
        document.querySelectorAll(".auth-tab").forEach((t) => {
          t.classList.remove("active");
        });
        document.querySelector(`[data-tab="${tab}"]`).classList.add("active");

        // Update form sections
        document.querySelectorAll(".auth-form").forEach((form) => {
          form.classList.remove("active");
        });
        document.getElementById(`${tab}-section`).classList.add("active");
      }
    </script>
  </body>
</html>
